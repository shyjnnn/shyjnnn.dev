---
title: "[디자인 패턴] 싱글톤, 옵저버, 팩토리 패턴"
date: 2023년 7월 3일
slug: 싱글톤-옵저버-팩토리-패턴
tags: CS
category: 🙏잡학사전
---

## 싱글톤 패턴

하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴.

애플리케이션이 시작될 때, 어떤 클래스가 최초 한 번만 메모리를 할당(static)하고 해당 메모리에 인스턴스를 만들어 사용하는 패턴

하나의 클래스를 기반으로 여러 개의 개별적인 인스턴스를 만들 수 있지만, 그렇게 하지 않고 하나의 클래스를 기반으로 단 하나의 인스턴스를 만들어 사용한다.

보통 데이터베이스 연결 모듈에 많이 활용된다.

> **비용 Down / 의존성 Up**

- **장점**: 하나의 인스턴스를 다른 모듈들이 공유하며 사용하기 때문에, 인스턴스를 생성할 때 드는 비용이 줄어든다
- **단점** : 의존성이 높아진다.
  - TDD를 할 때 단위 테스트를 주로 하는데, 단위 테스트는 서로 독립적이어야 하며 어떤 순서로든 실행할 수 있어야 한다. 하지만 싱글톤 패턴은 하나의 인스턴스를 기반으로 구현하는 패턴이므로, 각 테스트마다 독립적인 인스턴스를 만들기 어렵다.
  - 의존성 주입을 통해 모듈 간의 결합을 느슨하게 만들 수 있다.

## 팩토리 패턴

객체를 사용하는 코드에서 객체 생성 부분을 떼어내 추상화한 패턴이다.

상속 관계에 있는 두 클래스에서 상위 클래스가 중요한 뼈대를 결정하고, 하위 클래스에서 객체 생성에 관한 구체적인 내용을 결정하는 패턴

- **장점**: 상위 클래스와 하위 클래스가 분리되기 때문에 느슨한 결합을 가지며, 객체 생성 로직이 따로 분리되어 있기 때문에 유지 보수에 용이하다.
- **단점**: • 패턴을 구현할 많은 서브 클래스를 도입해야하므로 코드가 복잡해진다.

## 옵저버 패턴

주체가 어떤 객체의 상태 변화를 관찰하다가 상태 변화가 일어나면 메서드 등을 통해 옵저버 목록에 있는 옵저버에게 변화를 알려주는 디자인 패턴

![Untitled](https://github.com/shyjnnn/shyjnnn.dev/assets/81355590/7e81c472-ff75-4336-a2fe-cee051cc8b68)

주로 이벤트 기반 시스템에 사용하며 **MVC 패턴**에도 사용된다.

- 주체라고 볼 수 있는 Model에 변경사항이 생겨 옵저버인 View에 알려주고, 이를 기반으로 Controller가 작동
- **장점**
  - 실시간으로 한 객체의 변경사항을 다른 객체에게 전파 가능
  - 느슨한 결합으로 시스템이 유연하고 객체 간의 의존성 제거
- **단점**
  - 너무 많이 사용되면, 상태 관리가 힘들다
  - 데이터 배분에 문제가 생기면 큰 문제로 야기 가능
