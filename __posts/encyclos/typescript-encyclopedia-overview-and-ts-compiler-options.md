---
title: '타입스크립트 백과사전 : 개요와 ts 컴파일러 옵션'
date: 2023-06-13
slug: 타입스크립트-백과사전-개요와-ts-컴파일러-옵션
tags: Typescript
category: 🏫백과사전
---

> 한 입 크기로 잘라먹는 타입스크립트 강의를 듣고 정리하였습니다.🫡

## 타입스크립트 개요

- 2012년에 C#의 개발자인 앤더스 하일스버그가 개발하였다.
- 오픈소스이다.
- 타입스크립트는 자바스크립트를 **더 안전하게 사용할 수 있도록** 타입 관련 기능을 추가한 확장 언어
- 자바스크립트는 원래 아주 간단한 상호작용을 위해 개발되었다.
  - 유연한 문법
  - **버그 발생 가능성 높음**
  - 자유로움
- Node.js가 나오면서 어디서든 JavaScript를 사용 가능하게 되었다.
  - Node.js는 자바스크립트 구동기(런타임)

즉, 타입스크립트는 더 복잡한 상황에서 더 대규모 프로그램을 자바스크립트로 안전하게 만들기 위해 나온 언어이다.

## 타입스크립트의 필요성

### 자바스크립트 한계점 → 타입스크립트로 극복

**타입 시스템이란?**

- 모든 언어는 타입 시스템을 가지고 있다.

값을 어떤 기준으로 묶어 타입을 규정할지, 코드의 타입을 언제 검사할지, 어떻게 타입을 검사할지 등을 모아둔 언어의 타입 관련된 문법 체계이다.

타입 시스템은 정적타입과 동적타입으로 나뉜다

1. 정적 타입 시스템
   - 코드의 실행 이전 모든 변수의 타입을 고정적으로 결정
   - 업격하고 고정적인 시스템 (C, Java)
   - 실행 전에 Editor에서 미리 타입 에러가 나면 알려줌
   - 단점 : 모든 변수에 타입을 지정해야하는 번거로움이 있음
2. 동적 타입 시스템
   - 코드를 실행하고 나서 유동적으로 변수의 타입을 결정
   - 자유롭고 유연한 시스템 (Python, JavaScript)
   - 즉, 변수의 타입이 하나로만 고정되지 않음
   - 따라서 잘못된 코드(타입에러)여도 실행은 되지만, 프로그램이 비정상적으로 종료된다.
     - 프로그램은 실행 전에 검사를 해서 에러가 있다면 애초에 실행되지 않는 것이 효율적이고 안전하다.
   - 단점 : 버그 발생 가능성이 올라가 안전하지 않음

<aside>
💡 타입스크립트는 정적 타입 시스템 + 동적 타입 시스템을 합친 **점진적 타입 시스템 (Gradual Type System)**을 사용한다.

</aside>

**점진적 타입 시스템 (Gradual Type System)**

- 실행 전 검사를 통한 타입 안정성 확보 → 동적 타입 시스템의 단점을 cover
- 자동으로 변수의 타입을 추론함 → 정적 타입 시스템의 단점을 cover
  - 변수에 담긴 초기값으로 추론!
  - 즉 모든 변수에 일일이 타입을 지정하지 않아도 됨

## 타입스크립트의 동작과정

대부분의 프로그래밍 언어의 동작과정

- 컴파일 (← 컴파일러)
  - 개발자가 작성한 프로그래밍 언어를 컴퓨터가 이해하기 쉬운 형태인 기계어로 변환하는 과정
  - 컴파일러는 프로그래밍 언어를 AST(추상 문법 트리)로 변환한 후 기계어(바이트코드)로 변환하며 컴파일을 종료한다.
- 타입스크립트의 컴파일 과정
  - `TypeScript` → `AST` → `타입 검사` → (성공시) `JavaScript` → `AST` → `바이트코드` → `실행`
  - 타입 검사
    - 실패 시 컴파일 종료
    - 성공 시 JavaScript가 만들어진다.
      - 이때 성공해서 만들어진 JavaScript는 타입 검사를 맞쳤기 때문에 안전하다! 이때, 이 JavaScript에는 Type이 없다.

## 타입스크립트 개발환경 설정하기

`npm init` : node js package 초기화

- package.json 파일이 생성됨

`npm i @types/node` : node.js가 제공하는 내장 기능의 타입 정보를 제공하는 패키지 설치

`npm install typescript -g` : 타입스크립트 컴파일러 설치

`tsc -v` : 타입스크립터 컴파일러 버전 확인

**컴파일하기**

- `tsc [파일경로~~/파일.ts]`
  → 잘 컴파일 되면 동일한 경로에 동일한 이름으로 js파일이 생성된다.
- `node [파일경로~~/파일.js]` → 파일 실행
- ts node 로 컴파일과 실행 과정을 한번에 할 수 있다
  `npm install ts-node -g`
  `ts-node [파일경로~~/파일.ts]`

## 타입스크립트 컴파일러 옵션 설정

> 타입스크립트는 컴파일 옵션을 아주 세밀하게 최적화해서 설정할 수 있다.
>
> - 컴파일 옵션은 얼마나 엄격하게 타입 오류를 검사할지, JS 코드의 버전은 어떻게 할지 등을 설정할 수 있음!
> - 따라서 실무에서는 일반적으로 프로젝트에 따라 타입스크립트 컴파일러 옵션을 설정한다.

- 타입스크립트 컴파일러 옵션은 **node.js package 단위로 설정**할 수 있다.
  `tsc --init` : tsc 초기화 - 자동으로 tsc 옵션이 설정된다.
  - tsconfig.json 파일이 생성된다.
  - 타입스크립트 컴파일러 옵션의 설정 파일이다.
- 타입스크립트는 기본적으로 모든 ts 파일을 **전역 모듈 취급**한다.
  - export 나 import 등의 모듈 시스템을 사용하는 문법을 한번이라도 사용하면 해당 파일은 독립된 모듈로 취급한다.
  - 혹은, tsconfig.json에 `“moduleDetection” : “force”`로 설정하면 파일별 독립 모듈 취급한다.
    - force로 하면 컴파일 시, 모듈 시스템 코드를 자동 추가해준다.

```json
// tsconfig.json
{
  "compilerOptions": {
    "target": "ESNext", // 컴파일 결과로 생성되는 자바스크립트의 버전 설정. ESNext는 JS 최신 버전
    "module": "ESNext", // 변환되는 자바스크립트의 모듈 시스템을 지정. CommonJS ESNext 시스템이 있다.
    "outDir": "dist", // 컴파일 결과로 만들어진 JS들이 모이는 폴더를 지정할 수 있음
    "strict": true, // 타입스크립트 컴파일러가 타입을 얼마나 엄격하게 검사할지를 정하는 옵션. 즉, 추론이 불가능한 변수에 대해서는 에러!
    "moduleDetection": "force" //타입스크립트는 모든 파일을 전역 모듈로 취급. force로 하면 컴파일 시, 모듈 시스템 코드(export or import)를 자동 추가해 파일별 독립 모듈 취급한다.
  },

  "ts-node": {
    "esm": true //ts-node는 commonJS 모듈 시스템을 사용하기 때문에, ES모듈 시스템으로 모듈을 설정해놓으면 이해(해석)하지 못함. esm true로 es모듈 시스템으로 동작하게 함
  },

  "include": ["src"] // src 내의 모든 파일을 한번에 컴파일해라. 따라서 tsc만 입력해도 src아래의 모든 파일을 컴파일한다.
}
```

- package.json에 추가해줘야하는 것
  - `"type": "module"`, // node.js에서 ES 모듈 시스템을 사용하려면 설정해줘야함
